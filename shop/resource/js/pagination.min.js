!function(){function a(a){function c(){$(window).trigger("beforePageChange");var a,c,d="";for(b.pageNow>b.lastPage?location.hash="page=1":b.pageNow<1&&(b.pageNow=1),d+='<ul class="pagination">',1!==b.pageNow&&(d+='<li><a href="#page=prev">'+b.pagePrev+"</a></li>"),a=b.pageNow-(b.pageLength/2|0),2===a?d+='<li><a href="#page=1">1</a></li>':a>2&&(d+='<li><a href="#page=1">1..</a></li>'),c=b.pageLength;c>0;)1>a||a>b.lastPage||(d+=a===b.pageNow?'<li class="active">':"<li>",d+='<a href="#page='+a+'">'+a+"</a></li>"),a++,c--;a===b.lastPage?d+='<li><a href="#page='+b.lastPage+'">'+b.lastPage+"</a></li>":a<b.lastPage&&(d+='<li><a href="#page='+b.lastPage+'">..'+b.lastPage+"</a></li>"),b.lastPage>b.pageNow&&(d+='<li><a href="#page=next">'+b.pageNext+"</a></li>"),d+="</ul>",b.renderBox.html(d),$(window).trigger("afterPageChange")}$.extend(b,a),$.pageBuilderObj=b,b.builded===!0||b.prePageLenght<1||b.dataLength<1||b.renderBox.length<1||(b.builded=!0,b.lastPage=Math.ceil(b.dataLength/b.prePageLenght),$(window).on("renderPagination",function(){c()}),$(window).on("hashchange",function(){var a=location.hash,c=0;/^#page=\d+$/.test(a)===!0?(c=0|a.substring(6),b.pageNow!==c&&(b.pageNow=c,$(window).trigger("renderPagination"))):"#page=next"===a?location.hash="page="+(b.pageNow+1):"#page=prev"===a&&(location.hash="page="+(b.pageNow-1))}),$(window).trigger("renderPagination"))}var b={pagePrev:"上一页",pageNext:"下一页",pageNow:1,prePageLenght:0,dataLength:0,pageLength:5,renderBox:$(".pagination-box"),builded:!1};a.page=b,window.pageBuilder=a}(window);